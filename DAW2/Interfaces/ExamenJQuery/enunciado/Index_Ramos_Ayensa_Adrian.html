<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8">
		<title>Examen 2ª Ev. parte 1 jQuery Tipo E</title>

        <!-- NO MODIFICAR LA RUTA -->
		<script src="jquery-3.4.1.min.js " type="text/javascript"></script>
	
        <script type="text/javascript">
             /* COLOQUE AQUÍ EL CÓDIGO JQUERY  */

            // booleano que indica si la animación está activada o no 
            var iniciado = false;

            // variable en la que se guardará la repetición de la animación
            var timer;

            // función en la que se crean las animaciones de cada elemento y se genera el bucle al llamar setTimeout a la misma funcion
            var reproducir = function(){

                    // animaciones de las nubes, se mueven 800 píxeles a la derecha para posteriormente reaparecer a la izquierda
                    $("#nube1").animate({left:"+=600"}, 10000).animate({left: "-=600"},1);
                    $("#nube2").animate({left:"+=800"}, 9000).animate({left: "-=800"}, 1);
                    $("#nube3").animate({left:"+=800"}, 6000).animate({left: "-=800"}, 1);
                    
                    //animaciones del nadador y flotador verticales en 5 pixeles alternados
                    $("#ahogado").animate({top:"+=5"}, 1000).animate({top:"-=5"}, 1000);
                    $("#flotador").animate({top:"-=5"}, 1000).animate({top:"+=5"}, 1000);

                    // animacion de derecha a izquierda del sello
                    $("#tampon").animate({left:"700"}, 100);

                    // animacion del sol y la sombra del flotador que cambia sendas opacidades
                    $("#sol").animate({opacity: "0.7"}, 1000).animate({opacity: "1"}, 1000);
                    $("#sombra_flotador").animate({opacity: "0.3"}, 1000).animate({opacity: "1"}, 1000)

                    // timer que genera el bucle en la animacion
                    timer = setTimeout("reproducir()", 300);

                }

                // funcion a la que se llama al hacer click sobre el documento
            $(document).click( function() {

                if(!iniciado){
                    // si la animacion no está iniciada muestra los elementos previamente ocultos, ejecuta el bucle de animaciones y cambia el texto del mensaje
                    $("#nube1").css("display", "block");
                    $("#nube2").css("display", "block");
                    $("#nube3").css("display", "block");
                    $("#tampon").css("display", "block");
                    $("#saludo").slideDown(200);
                    reproducir();
                    $("#mensaje").text("Animación activa. Haga click en la imagen para desactivarla");
                    iniciado = true;
                } else {
                    // si la animación está iniciada recarga la página
                    location.reload();
                }

                
            });



            
        </script>

        <style type="text/css">
            /* COLOQUE AQUÍ EL CÓDIGO CSS  */

            /* La disposicion horizontal de los elementos se ha llevado a cabo en una ventana de 492px de ancho */

            /* Fondo de la página en negro y textos en blanco */
            body {
                background-color: black;
                color: white;

            }

            /* ancho de 700px y todo el contenido centrado */
            #wrapper {
                width: 700px;
                margin: 0 auto;            
                align-content: center;
                text-align: center;
                overflow: hidden;

            }

            /* borde del div en blanco y con una imagen como fondo */
            #content {
                width: 700px;
                height: 300px;
                border: 5 white solid;
                top: 50px;
                background-image: url("imagenes/escena_fondo.jpg");
                cursor: pointer;
                overflow: hidden;

            }

            /* POSICIONES INICIALES DE LOS DIFERENTES ELEMENTOS */
            /* Con z-index se controla que  */
            #sol {
                position: absolute;
                margin-top: 10px;
                margin-left: 30px;
                z-index: 1;
            }

            #flotador{
                position: absolute;
                margin-top: 220px;
                margin-left: 250px;
                z-index: 3;
            }

            #sombra_flotador{
                position: absolute;
                margin-top: 220px;
                margin-left: 250px;
                z-index: 2;
            }

            #ahogado {
                position:absolute;
                margin-top: 165px;
                margin-left: 360px;
                z-index: 10;
            }

            #mensaje {
                position: relative;
                margin-top: 450px;
                text-align: center;
                font-size: 18px;
                margin: 0 auto;
            }

            #nube1 {
                position:absolute;
                display: none;
                margin-top: 60px;
                margin-left: 100px;
                z-index: 2;
            }

            #nube2 {
                position: absolute;
                display: none;
                margin-top: 40px;
                margin-left: 20px;
                z-index: 2;
            }

            #nube3 {
                position: absolute;
                display: none;
                margin-top: 25px;
                margin-left: 250px;
                z-index: 2;
            }

            #tampon {
                display: none;
                position: absolute;
                margin-top: 5px;
                left: 1200px;
                z-index: 20;
            }

            #saludo {
                display: none;
                position: absolute;
                margin-top: 125px;
                left: 350px;
                z-index: 3;
            }

        </style>
	
    </head>

    <body>
        <!-- EL SIGUIENTE CÓDIGO NO DEBE MODIFICARSE Y EL NOMBRE DE LOS "id" SE RESPETARÁN -->
        <div id="wrapper">
            <h1>Examen 2ª evaluación. Parte 1 jQuery</h1></br>

            <!-- Consigne su nombre y apellidos según formato especificado en la línea siguiente-->
            <h2>Alumno/a: Ramos Ayensa, Adrian</h2>

            <!-- EL SIGUIENTE CÓDIGO NO DEBE MODIFICARSE Y EL NOMBRE DE LOS "id" SE RESPETARÁN -->
            <div id="content">
                <div id="sol"><img src="imagenes/sol.gif"/></div>
                <div id="nube1"><img src="imagenes/nube1.png"></div>
                <div id="nube2"><img src="imagenes/nube2.png"></div>
                <div id="nube3"><img src="imagenes/nube3.png"></div>
                <div id="ahogado"><img src="imagenes/ahogado.png"></div>
                <div id="flotador"><img src="imagenes/flotador.png"></div>
                <div id="sombra_flotador"><img src="imagenes/sombra_flotador.gif"></div>
                <div id="saludo"><img src="imagenes/saludo.png"></div>
                <div id="tampon"><img src="imagenes/tampon.png"></div>
            </div>
            <p id="mensaje">Animación parada. Haga click en la imagen para activarla</p>
        </div>
    </body>
</html>
